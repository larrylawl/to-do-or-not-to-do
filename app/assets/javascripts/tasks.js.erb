/*
Resets form by reseting value on TODO box, focuses on it, and
submit upon hitting enter key
Resets tag if there's a value
Abstracted out from 4 javascript files!
*/
function reset_form(selector) {
	const title = `${selector} [name*=title]`
	const tag = `${selector} [name*=tag_list]`
	const details = `${selector} [name*=details]`
	const selectors = [title, tag, details];
	
	$(title).focus();
	reset_value(selectors);
	submit_on_enter(selectors);
}

// Array of strings --> Undefined
function reset_value(selectors) {
	for (let i = 0; i < selectors.length; i++){
		$(selectors[i]).val("");
	}
}

// Array of strings --> Undefined
function submit_on_enter(selectors) {
	for (let i = 0; i < selectors.length; i++){
			$(selectors[i]).keypress(function(event) {
				if(event.which == 13) {
					$(this).trigger('submit.rails');
				}
			});
		}
}

function element_exist(selector) {
	return $(`${selector}`.length > 0)
}


$(document).on("turbolinks:load",function () {
	reset_form("#index_form");
})


